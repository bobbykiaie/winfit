(this.webpackJsonpwinfit=this.webpackJsonpwinfit||[]).push([[0],{133:function(e,t,n){"use strict";n.r(t);var c=n(4),r=n(0),a=n.n(r),s=n(31),o=n.n(s),i=n(15),l=(n(85),n(11)),u=n.n(l),j=n(18),d=n(174),b=n(166),h=n(165),p=n(167),f=n(173),m=n(94),O=n.n(m),x=n(135),g=n(163),A=n(164),v=n(91),S=n.n(v),w=n(57);n(117),n(118),n(119);S.a.config();var y=w.a.initializeApp({apiKey:"AIzaSyAB5SF64PcuFD5vWbKG4KkloPOtd1PsQWA",authDomain:"winfit-302321.firebaseapp.com",databaseURL:"",projectId:"winfit-302321",storageBucket:"winfit-302321.appspot.com",messagingSenderId:"109811979343",appId:'"1:109811979343:web:6f862cb58b072a76bc463a",',measurementId:"G-8PLGXE715G"}),C=w.a.auth(),E=new w.a.auth.GoogleAuthProvider,k=w.a.firestore(),I=a.a.createContext();function L(){return Object(r.useContext)(I)}function U(e){var t=e.children,n=Object(r.useState)(null),a=Object(i.a)(n,2),s=a[0],o=a[1],l=Object(r.useState)(null),u=Object(i.a)(l,2),j=u[0],d=u[1],b=Object(r.useState)(),h=Object(i.a)(b,2),p=h[0],f=h[1],m=Object(r.useState)(!1),O=Object(i.a)(m,2),x=O[0],g=O[1];var A={currentUser:s,userEmail:j,isLoggedIn:p,logout:function(){return o(null),d(null),C.signOut()},refreshState:x,refresh:function(e){g(e)}};return Object(r.useEffect)((function(){return C.onAuthStateChanged((function(e){e?(o(e.displayName),d(e.email),f(!0),console.log("current user name: "+s)):(o(null),f(!1))}))}),[p]),Object(c.jsx)(I.Provider,{value:A,children:t})}var K=n(162);var Q=function(){return Object(c.jsxs)(x.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(c.jsx)(K.a,{color:"inherit",href:"https://material-ui.com/",children:"WinFit"})," ",(new Date).getFullYear(),"."]})},B=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function V(){var e=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,C.signInWithPopup(E);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=B();return Object(c.jsxs)(A.a,{component:"main",maxWidth:"xs",children:[Object(c.jsx)(h.a,{}),Object(c.jsxs)("div",{className:t.paper,children:[Object(c.jsx)(d.a,{className:t.avatar,children:Object(c.jsx)(O.a,{})}),Object(c.jsx)("img",{alt:"none",src:"data:image/png;base64,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"}),Object(c.jsx)(x.a,{component:"h1",variant:"h5"}),Object(c.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(c.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:e,children:"Sign In"}),Object(c.jsx)(p.a,{container:!0})]})]}),Object(c.jsx)(f.a,{mt:8,children:Object(c.jsx)(Q,{})})]})}var H=n(51),R=n(24),Y=n(38),N=n(22),F=n(19),W=n(40),q=n(34),D=n(39),T=n(23);var G=function(e){var t=Object(r.useState)(),n=Object(i.a)(t,2),a=n[0],s=n[1],o=Object(r.useState)(),l=Object(i.a)(o,2),d=l[0],b=l[1],h=L(),p=h.currentUser,f=h.userEmail,m=h.refresh,O=h.refreshState,x=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d){e.next=5;break}alert("please wait"),e.next=16;break;case 5:return console.log(d),e.next=8,k.collection("users").doc(f);case 8:return n=e.sent,e.next=11,k.collection("Competitions").doc(a);case 11:return c=e.sent,e.next=14,c.set({owner:p,members:[f],banner:d,compName:a});case 14:return e.next=16,n.update("enrolledIn",w.a.firestore.FieldValue.arrayUnion({compName:a}));case 16:m(!0);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.target.files[0];case 2:return n=e.sent,e.next=5,y.storage().ref();case 5:return c=e.sent,e.next=8,c.child(n.name);case 8:return r=e.sent,e.next=11,r.put(n);case 11:return e.next=13,r.getDownloadURL().then(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){}),[O]),Object(c.jsxs)(q.a,Object(W.a)(Object(W.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(c.jsx)(q.a.Header,{closeButton:!0,children:Object(c.jsx)(q.a.Title,{id:"contained-modal-title-vcenter",children:"Create Competition"})}),Object(c.jsxs)(q.a.Body,{children:[Object(c.jsxs)(T.a.Group,{as:N.a,controlId:"formHorizontalEmail",children:[Object(c.jsx)(T.a.Label,{column:!0,sm:2,children:"Title"}),Object(c.jsx)(F.a,{sm:10,children:Object(c.jsx)(T.a.Control,{onChange:function(e){s(e.target.value)},value:a,type:"string",placeholder:"Scone"})})]}),Object(c.jsx)("fieldset",{children:Object(c.jsxs)(T.a.Group,{as:N.a,onSubmit:e.onHide,children:[Object(c.jsx)(T.a.Label,{as:"legend",column:!0,sm:2,children:"Metrics"}),Object(c.jsxs)(F.a,{sm:10,children:[Object(c.jsx)(T.a.Check,{type:"checkbox",label:"Weight",name:"formHorizontalRadios",id:"formHorizontalRadios1"}),Object(c.jsx)(T.a.Check,{type:"checkbox",label:"Calories",name:"formHorizontalRadios",id:"formHorizontalRadios2"}),Object(c.jsx)(T.a.Check,{type:"checkbox",label:"Steps",name:"formHorizontalRadios",id:"formHorizontalRadios3"})]})]})}),Object(c.jsxs)(T.a.Group,{children:[Object(c.jsx)(T.a.Label,{column:!0,sm:2,children:"Banner"}),Object(c.jsx)("input",{onChange:g,type:"file"})]})]}),Object(c.jsxs)(q.a.Footer,{children:[Object(c.jsx)("div",{onClick:e.onHide,children:Object(c.jsx)(D.a,{type:"submit",onClick:x,children:"Create"})}),Object(c.jsx)(D.a,{onClick:e.onHide,type:"button",children:"Close"})]})]}))},J=n(168),M=n(169),P=n(172),Z=n(171),z=n(170),X=Object(g.a)({root:{maxWidth:345},media:{height:140}});function _(e){var t=e.prop,n=L(),a=(n.currentUser,n.userEmail,Object(r.useState)("")),s=Object(i.a)(a,2),o=s[0],l=s[1],d=Object(r.useState)(""),b=Object(i.a)(d,2),h=b[0],p=b[1],f=X();return Object(r.useEffect)((function(){if(t){var e=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("result from pullComps is: "+t),e.next=3,k.collection("Competitions").doc(t);case 3:return n=e.sent,e.next=6,n.get().then(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.exists?(p(t.data().compName),l(t.data().banner)):console.log("non such comp");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(function(){var n=Object(j.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=4;break}console.log("No info"),n.next=6;break;case 4:return n.next=6,t.then(function(){var t=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("logging result"),t.next=3,e(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}}),[t]),Object(c.jsx)("div",{children:Object(c.jsxs)(J.a,{className:f.root,children:[Object(c.jsxs)(M.a,{children:[Object(c.jsx)(z.a,{className:f.media,image:o,title:"Contemplative Reptile"}),Object(c.jsxs)(Z.a,{children:[Object(c.jsx)(x.a,{gutterBottom:!0,variant:"h5",component:"h2",children:Object(c.jsx)(H.b,{to:"/dashboard/comp/"+h,compName:h,children:h})}),Object(c.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:"Days Remaining: 6"})]})]}),Object(c.jsx)(P.a,{})]})})}var $=n(137);n(65);var ee=function(e){var t=n(65),a=Object(r.useState)(),s=Object(i.a)(a,2),o=s[0],l=s[1],d=Object(r.useState)(),b=Object(i.a)(d,2),h=b[0],p=b[1],f=t("date"),m=L(),O=(m.currentUser,m.userEmail),x=m.refresh,g=m.refreshState,A=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"steps"===t.target.name&&(l(t.target.value),console.log(o)),"calories"===t.target.name&&(p(t.target.value),console.log(h));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=k.collection("users").doc(O).collection("stats").doc(f),e.next=4,n.set({steps:o,calories:h});case 4:x(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){}),[g]),Object(c.jsxs)(q.a,Object(W.a)(Object(W.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(c.jsx)(q.a.Header,{closeButton:!0,children:Object(c.jsx)(q.a.Title,{id:"contained-modal-title-vcenter",children:"Create Competition"})}),Object(c.jsxs)(q.a.Body,{children:[Object(c.jsxs)(T.a.Group,{as:N.a,controlId:"formHorizontalEmail",children:[Object(c.jsx)(T.a.Label,{column:!0,sm:2,children:"Steps"}),Object(c.jsx)(F.a,{sm:10,children:Object(c.jsx)(T.a.Control,{onChange:A,value:o,type:"string",name:"steps",placeholder:"Enter total steps for the day"})})]}),Object(c.jsxs)(T.a.Group,{as:N.a,controlId:"formHorizontalEmail",children:[Object(c.jsx)(T.a.Label,{column:!0,sm:2,children:"Calories"}),Object(c.jsx)(F.a,{sm:10,children:Object(c.jsx)(T.a.Control,{onChange:A,value:h,type:"string",name:"calories",placeholder:"Enter total burned calories for the day"})})]})]}),Object(c.jsxs)(q.a.Footer,{children:[Object(c.jsx)("div",{onClick:e.onHide,children:Object(c.jsx)(D.a,{type:"submit",variant:"outline-dark",onClick:v,children:"Submit"})}),Object(c.jsx)(D.a,{onClick:e.onHide,variant:"outline-dark",type:"button",children:"Close"})]})]}))},te=function(){var e=L(),t=e.currentUser,s=e.userEmail,o=e.refresh,l=e.refreshState,d=a.a.useState(!1),b=Object(i.a)(d,2),h=b[0],p=b[1],f=a.a.useState(!1),m=Object(i.a)(f,2),O=m[0],x=m[1],g=Object(r.useState)(""),A=Object(i.a)(g,2),v=A[0],S=A[1],y=Object(r.useState)([""]),C=Object(i.a)(y,2),E=C[0],I=C[1],U=Object(r.useState)(),K=Object(i.a)(U,2),Q=K[0],B=K[1],V=Object(r.useState)(),H=Object(i.a)(V,2),R=H[0],W=H[1],q=function(e){e.preventDefault();var t=k.collection("Competitions").doc(v);t.get().then((function(e){e.exists?(k.collection("users").doc(s).update("enrolledIn",w.a.firestore.FieldValue.arrayUnion({compName:v})),t.update("members",w.a.firestore.FieldValue.arrayUnion(s)),alert("joined"+v),S("")):alert("Competition does not exist"),console.log("Enrolled in: "+v)})).catch((function(e){console.log("Error getting document:",e)})),o(!0)};return Object(r.useEffect)((function(){var e=n(65),c=e("date");console.log("Starting Useefffect from dashboard with"),console.log(s),k.collection("users").doc(s).get().then((function(e){e.exists||(console.log("adding user"),console.log(s),k.collection("users").doc(s).get().then((function(e){e.exists||(console.log("adding user: "+s),k.collection("users").doc(s).set({name:t,email:s}))})).catch((function(e){console.log("Error getting document:",e)})))})),console.log("fisnihed add user check");var r=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.collection("users").doc(s),e.next=3,t.get().then((function(e){if(e.exists){var t=e.data().enrolledIn;if(t){var n=t.map(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.compName;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());n.length>3?I(n.slice(n.length-3,n.length)):I(n)}else I(["None"])}}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=k.collection("users").doc(s).collection("stats").doc(c);a.get().then((function(t){if(t.exists){e("date");B(t.data().calories),W(t.data().steps)}else a.set({steps:"None",calories:"None"})})),r(),o(!1)}),[l]),Object(c.jsxs)(Y.a,{fluid:!0,children:[Object(c.jsx)(N.a,{children:Object(c.jsx)(F.a,{className:"mx-auto",children:Object(c.jsxs)("h1",{children:["Welcome ",t]})})}),Object(c.jsx)(N.a,{children:Object(c.jsxs)(F.a,{children:[Object(c.jsxs)("h5",{children:["Calories: ",Q]}),Object(c.jsxs)("h5",{children:["Steps: ",R]})]})}),Object(c.jsx)(Y.a,{fluid:!0,children:Object(c.jsx)($.a,{children:Object(c.jsx)(N.a,{children:Object(c.jsxs)(F.a,{children:[Object(c.jsx)(N.a,{className:"ml-3",children:Object(c.jsx)(F.a,{children:Object(c.jsx)("h5",{children:"Enrolled Competition:"})})}),Object(c.jsx)(N.a,{style:{paddingTop:10},className:"justify-content-center mt-3 mb-3 ml-3 mr-3",children:E.map((function(e){return Object(c.jsx)(F.a,{className:"mb-10",md:4,children:Object(c.jsx)(_,{prop:e})})}))})]})})})}),Object(c.jsxs)(Y.a,{fluid:!0,children:[Object(c.jsxs)(N.a,{className:"mb-3",children:[Object(c.jsx)(F.a,{md:4,className:"mt-3",children:Object(c.jsx)(D.a,{variant:"outline-dark",onClick:function(){return p(!0)},children:"Create Competition"})}),Object(c.jsx)(F.a,{md:10,className:"mt-3",children:Object(c.jsx)(D.a,{variant:"outline-dark",onClick:function(){return x(!0)},children:"Update Stats"})})]}),Object(c.jsx)(N.a,{children:Object(c.jsxs)(F.a,{children:[Object(c.jsx)(G,{show:h,onHide:function(){return p(!1)}}),Object(c.jsx)(ee,{show:O,onHide:function(){return x(!1)}})]})}),Object(c.jsx)(N.a,{children:Object(c.jsx)(F.a,{children:Object(c.jsxs)(T.a,{onSubmit:q,children:[Object(c.jsx)("button",{type:"submit",onClick:q,children:"Join"}),Object(c.jsx)("input",{onChange:function(e){S(e.target.value),console.log(v)},value:v})]})})})]})]})},ne=n(95),ce=n(81),re=n(76);function ae(){var e=Object(ne.a)(["\n    .centerNav {\n      justify-content: center;\n    }\n    .Navbar {\n      backgroundcolor: black;\n    }\n    .link {\n      text-decoration: none;\n      color: white;\n      text-align: right;\n    }\n  "]);return ae=function(){return e},e}var se=function(){var e=L(),t=e.isLoggedIn,n=e.logout,r=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=re.a.div(ae());return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(a,{children:Object(c.jsx)(ce.a,{bg:"dark",variant:"dark",children:Object(c.jsxs)(Y.a,{fluid:!0,children:[Object(c.jsxs)(ce.a.Brand,{href:"#home",children:[Object(c.jsx)("img",{alt:"",src:"https://lh3.googleusercontent.com/Gf2Og5OgKV8wUdiJaUqjuNM24UmzOD3V3yGAaLbDSGAKCQ-G-L0s55-aVGxVtigQ8a0vqk0cr_grBp4AwfRhAN2BJIRWscJT4BUD9R5uiHI4mUVEb7sA6MA3w62e5-dV6vA0aqftWee60x1UjH_6jnPJtpFsUZbxQhRYDXMWYB8-CVGZRtsb9Mob9M5GRQktiCP9k0BAaOEFzun1-KX0RsZ96qU9bE5uheaQLtyQ-P3LNIlXzLLJtZq06J7ZKLmm8y5PjVnLH6O-5O5ZZ8OSgK0hlr_hYZBe2XXFPNayap0hp_oAHEAujw3hUjtB5S1_3zwXvCLX57ZK-KKdL3RRgGUWFeBObpnbb8qx6vTmsqexjQa1QhI8bZ51Y37wsV6a7ItMjAoCyBjYz3RLvyHRqypxJflEw0O-YBhMA_Brjzz4em8mgD_8M-jhmCalXABKUAzK1RKZ_BD4SlIt3EC_r51gNDRAy2Ya9YVIt7_EpRzsZ1L_cYl5TQi9vhaHvptrK-SYikJdO1kBEdcgtTLU9hWxFHSfSkjZ4RoUMn8yDKB8cjFA-SwtatP2sdFLz-u9FaBmAGmIWx8dC5VMqK1n_wNj7p8ckeDkXzsHg8K8SKnryt8Phih0mS2wG15BIEPY7EClHv6cQ-nQFmxV5TBAz66o1Bin5bgJeV_v-ODpDakrlLbQ63LgwFbnuGcTQA=w300-h96-no?authuser=0",width:"30",height:"30",className:"d-inline align-top"})," ","WinFIt"]}),t?Object(c.jsx)(H.b,{className:"link",onClick:r,children:"Logout"}):""]})})})})},oe=n(37),ie=function(e){n(65)("date");var t=L(),a=(t.currentUser,t.userEmail,t.refresh,t.refreshState,Object(R.g)().comp),s=Object(r.useState)(),o=Object(i.a)(s,2),l=o[0],d=o[1],b=Object(r.useState)(["none"]),h=Object(i.a)(b,2),p=h[0],f=h[1],m=Object(r.useState)(!1),O=Object(i.a)(m,2),x=O[0],g=O[1],A=k.collection("Competitions").doc(a),v=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get().then(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.exists){e.next=14;break}return e.t0=d,e.next=4,t.data().members;case 4:if(e.t1=e.sent,(0,e.t0)(e.t1),l){e.next=11;break}return g(!0),e.abrupt("return");case 11:S();case 12:e.next=15;break;case 14:d(["None"]);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("get status begnning line"),e.next=3,A.get().then(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.exists?d(t.data().members):d(["None"]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:l?l.forEach(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(l.length),console.log("beginning loop"),console.log(l),k.collection("users").doc(t).collection("stats").doc("testStat").get().then(function(){var e=Object(j.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.exists&&("none"===p[0]&&f([]),f((function(e){return console.log(e),[].concat(Object(oe.a)(e),[{steps:n.data().steps,calories:n.data().calories,name:t}])})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log(p),console.log("ending loop");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):(g(!0),console.log("there were no members so we are refreshing"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){v()}),[x]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:a}),Object(c.jsx)("button",{children:"Test"}),Object(c.jsx)("h4",{children:"Enrolled:"}),p?p.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsxs)("h4",{style:{marginLeft:"30px"},children:["      Steps: ",e.steps]}),Object(c.jsxs)("h4",{style:{marginLeft:"30px"},children:["    Calories: ",e.calories]})]})})):Object(c.jsx)("h1",{children:'"none"'})]})};var le=function(){var e=L().isLoggedIn,t=Object(r.useState)(!0),n=Object(i.a)(t,2),a=n[0],s=n[1];return Object(r.useEffect)((function(){e&&s(!1)}),[e]),Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(H.a,{children:Object(c.jsxs)(U,{children:[Object(c.jsx)(se,{}),Object(c.jsxs)(R.d,{children:[Object(c.jsx)(R.b,{exact:!0,path:"/dashboard",children:a?Object(c.jsx)("h1",{children:" "}):e?Object(c.jsx)(te,{}):Object(c.jsx)(R.a,{to:"/"})}),Object(c.jsx)(R.b,{exact:!0,path:"/dashboard/comp/:comp",children:a?Object(c.jsx)("h1",{children:" "}):e?Object(c.jsx)(ie,{}):Object(c.jsx)(R.a,{to:"/"})}),Object(c.jsx)(R.b,{exact:!0,path:"/",children:e?Object(c.jsx)(R.a,{to:"/dashboard"}):Object(c.jsx)(V,{})})]})]})})})};o.a.render(Object(c.jsx)(U,{children:Object(c.jsx)(le,{})}),document.getElementById("root"))},85:function(e,t,n){}},[[133,1,2]]]);
//# sourceMappingURL=main.57769c16.chunk.js.map